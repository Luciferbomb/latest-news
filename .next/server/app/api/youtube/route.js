(()=>{var e={};e.id=117,e.ids=[117],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},6577:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>d,serverHooks:()=>h,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>m});var i={};r.r(i),r.d(i,{GET:()=>l});var n=r(2706),a=r(8203),s=r(5994),o=r(9187);let p="AIzaSyCmsFreWdDFd0nAb3cG8lPCSCWrQBgrB_s",u=["UCbfYPyITQ-7l4upoX8nvctg","UC8wZnXYK_CGKlBcZp-GxYPA","UCgBVkKC1MsaZHVBWdmjJ_Wg","UCdj9K0dcfBVbDlJsQ8Rp2bQ","UCJIfeSCssxSC_Dhc5s7woww","UCv83tO5cePwHMt1952IVVHw","UCG-DIzZxEv1hGm7ItSFEooQ","UCUyeluBRhGPCW4rPe_UvBZQ"];async function l(e){try{let{searchParams:t}=new URL(e.url),r=t.get("q")||"artificial intelligence";console.log("Fetching YouTube videos...");let i=[];try{let e=await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(r)}&type=video&maxResults=15&relevanceLanguage=en&key=${p}&videoDuration=medium&order=date&publishedAfter=${encodeURIComponent(new Date(Date.now()-2592e6).toISOString())}`);if(e.ok){let t=(await e.json()).items.map(e=>({id:e.id.videoId,title:e.snippet.title,description:e.snippet.description,thumbnailUrl:e.snippet.thumbnails.high?.url||e.snippet.thumbnails.medium?.url||e.snippet.thumbnails.default?.url,videoUrl:`https://www.youtube.com/watch?v=${e.id.videoId}`,embedUrl:`https://www.youtube.com/embed/${e.id.videoId}?autoplay=0`,source:e.snippet.channelTitle,channelId:e.snippet.channelId,channelUrl:`https://www.youtube.com/channel/${e.snippet.channelId}`,date:new Date(e.snippet.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}));i=[...i,...t]}let t=u.map(e=>fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${e}&order=date&maxResults=3&type=video&key=${p}`).then(e=>e.ok?e.json():{items:[]}).catch(()=>({items:[]})));(await Promise.all(t)).forEach(e=>{if(e.items&&e.items.length>0){let t=e.items.map(e=>({id:e.id.videoId,title:e.snippet.title,description:e.snippet.description,thumbnailUrl:e.snippet.thumbnails.high?.url||e.snippet.thumbnails.medium?.url||e.snippet.thumbnails.default?.url,videoUrl:`https://www.youtube.com/watch?v=${e.id.videoId}`,embedUrl:`https://www.youtube.com/embed/${e.id.videoId}?autoplay=0`,source:e.snippet.channelTitle,channelId:e.snippet.channelId,channelUrl:`https://www.youtube.com/channel/${e.snippet.channelId}`,date:new Date(e.snippet.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}));i=[...i,...t]}});let n=Array.from(new Map(i.map(e=>[e.id,e])).values()),a=["ai","artificial intelligence","machine learning","deep learning","neural","gpt","llm","chatgpt","openai","midjourney","stable diffusion","claude","gemini","dall-e","image generation","ai image","ai art"],s=n.filter(e=>{let t=`${e.title.toLowerCase()} ${e.description.toLowerCase()}`;return a.some(e=>t.includes(e))});return s.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),o.NextResponse.json({videos:s.slice(0,15),lastUpdated:new Date().toISOString()},{status:200})}catch(e){throw console.error("YouTube API error:",e),Error("Failed to fetch videos from YouTube API")}}catch(e){return console.error("Error in YouTube API route:",e),o.NextResponse.json({videos:[],lastUpdated:new Date().toISOString(),error:e.message},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/youtube/route",pathname:"/api/youtube",filename:"route",bundlePath:"app/api/youtube/route"},resolvedPagePath:"/Users/ashutoshranjan/test/src/app/api/youtube/route.ts",nextConfigOutput:"",userland:i}),{workAsyncStorage:c,workUnitAsyncStorage:m,serverHooks:h}=d;function w(){return(0,s.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:m})}},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[638,452],()=>r(6577));module.exports=i})();